import{g as j,a7 as N,r as A,m as k,aj as V,ak as $,aa as E,al as B,am as b,an as D,ao as I,c as M,o as s,ap as L,E as P,aq as W,ar as C,A as T,s as o,h as c,w as y,v as F,ai as O,F as R,i as S,a as u,d as w,t as q,b as U,ad as G}from"./entry.6507cb32.js";import{_ as X}from"./AuthRequiredPanel.vue.17c2a7bd.js";import{_ as z}from"./LaunchPage.vue.00d3a484.js";import"./NMarkdown.vue.a74698d6.js";import"./client.ece13385.js";const g=new Map,H=j({__name:"IframeView",props:{tab:{}},setup(f){const m=f,r=N(),p=A(),i=k(()=>m.tab.name),e=A(),t=V($(p));E(()=>{const n=m.tab.view,l=n.persistent!==!1,h=["clipboard-write","clipboard-read"];if(g.get(i.value)&&l)e.value=g.get(i.value),e.value.style.visibility="visible";else{e.value=document.createElement("iframe"),e.value.setAttribute("allow",h.join("; ")),l&&g.set(i.value,e.value),e.value.src=n.src;try{e.value.style.opacity="0.01",e.value.onload=()=>{d(),a(),e.value.style.opacity="1"}}catch{e.value.style.opacity="1"}document.body.appendChild(e.value),B(_)}setTimeout(a,100)}),b(_),b(a),b(d),D(()=>{e.value&&(e.value.style.visibility="hidden")});function a(){if(!(!e.value||!e.value.contentWindow))try{const n=e.value.contentWindow.document.querySelector("html");n?.classList.toggle("dark",r.value==="dark"),n?.classList.toggle("light",r.value==="dark"),new MutationObserver(()=>{r.value=e.value?.contentWindow?.document.querySelector("html")?.classList.contains("dark")?"dark":"light"}).observe(n,{attributes:!0,attributeFilter:["class"]})}catch{}}const v=I();function d(){if(!(!e.value||!e.value.contentWindow))try{e.value.contentWindow.__NUXT_DEVTOOLS__=v.value}catch{}}function _(){e.value&&Object.assign(e.value.style,{position:"fixed",left:`${t.left}px`,top:`${t.top}px`,width:`${t.width}px`,height:`${t.height}px`,outline:"none"})}return(n,l)=>(s(),M("div",{ref_key:"anchor",ref:p,"h-full":"","w-full":""},null,512))}}),J={flex:"~ col gap2",mxa:"","items-center":""},K=u("div",{"i-carbon-queued":"",mb2:"","text-5xl":"",op50:""},null,-1),Q={"text-xl":""},Y={"text-rose":""},Z=u("p",{op50:""}," It might because the module contributing this tab is not installed or enabled ",-1),ee=u("p",{mt8:"","animate-pulse":""}," Redirecting to overview page... ",-1),ie=j({__name:"custom-[name]",props:{name:{}},setup(f){const m=f,r=L(),p=P(),i=k(()=>m.name??r.params.name),e=W(),t=k(()=>e.value.find(a=>a.name===i.value));return E(()=>{t.value?t.value.requireAuth&&!C.value&&T.requestForAuth():setTimeout(()=>{t.value||p.push("/modules/overview")},2e3)}),(a,v)=>{const d=S,_=X,n=H,l=z,h=G;return s(),M(R,null,[o(t)?F("",!0):(s(),c(d,{key:0},{default:y(()=>[u("div",J,[K,u("p",Q,[w(" Tab "),u("code",Y,q(o(i)),1),w(" not found ")]),Z,ee])]),_:1})),o(t).requireAuth&&!("isDevAuthed"in a?a.isDevAuthed:o(C))?(s(),c(_,{key:1})):o(t).view.type==="iframe"?(s(),c(n,{key:2,tab:o(t)},null,8,["tab"])):o(t).view.type==="vnode"?(s(),c(O(o(t).view.vnode),{key:3})):o(t).view.type==="launch"?(s(),c(l,{key:4,icon:o(t).view.icon||o(t).icon,title:o(t).view.title||o(t).title,description:o(t).view.description,actions:o(t).view.actions,onAction:v[0]||(v[0]=x=>("rpc"in a?a.rpc:o(T)).customTabAction(o(t).name,x))},null,8,["icon","title","description","actions"])):(s(),c(d,{key:5},{default:y(()=>[U(h,{flex:"~ col","h-full":"","items-center":"","justify-center":""},{default:y(()=>[w(" Unknown tab type "+q(o(t).view),1)]),_:1})]),_:1}))],64)}}});export{ie as default};
