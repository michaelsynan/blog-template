import{g as y,aa as x,ar as n,bm as _,A as l,r as m,s as c,h as g,w as d,Y as A,i as w,o as N,b as s,a as e,d as i,L as T,aR as q,a$ as V,bn as B,k as $,M as C,S as D,ad as P}from"./entry.6507cb32.js";const S=e("h3",{class:"mb2 text-lg font-medium leading-6",flex:"~ items-center gap-1","text-orange":""},[e("span",{class:"i-carbon-information-square"}),i(" Permissions required ")],-1),I=e("p",null," This operation requires permissions for running command and access files from the browser. ",-1),K=e("p",null,[i(" A request is sent to the server."),e("br"),i(" Please check your terminal for the instructions and then come back. ")],-1),M={flex:"~ gap-3",mt2:"","justify-end":""},R=e("p",null,"Or you can manually paste the token here:",-1),F=["onSubmit"],E=y({__name:"AuthRequiredPanel",setup(j){x(async()=>{n.value||_.value&&await l.verifyAuthToken(_.value)&&(n.value=!0),n.value||l.requestForAuth()});const o=m(""),r=m(!1);async function u(){const t=o.value.trim();r.value=!1,await l.verifyAuthToken(t).then(a=>{a?(n.value=!0,B(t)):r.value=!0})}return(t,a)=>{const f=$,p=C,h=D,v=P,k=w;return("isDevAuthed"in t?t.isDevAuthed:c(n))?A(t.$slots,"default",{key:1}):(N(),g(k,{key:0},{default:d(()=>[s(v,{flex:"~ col gap-2",mxa:"","items-center":"",p6:"","text-center":""},{default:d(()=>[S,I,K,e("div",M,[s(f,{disabled:"",icon:"i-carbon-time"},{default:d(()=>[i(" Waiting for authorization... ")]),_:1})]),R,e("form",{flex:"~ inline gap-2 items-center",onSubmit:V(u,["prevent"])},[s(p,{modelValue:c(o),"onUpdate:modelValue":a[0]||(a[0]=b=>T(o)?o.value=b:null),placeholder:"Enter token here",n:c(r)?"red":void 0,onKeydown:q(u,["enter"])},null,8,["modelValue","n","onKeydown"]),s(h,{icon:"i-carbon-arrow-right",onClick:u})],40,F)]),_:1})]),_:1}))}}});export{E as _};
